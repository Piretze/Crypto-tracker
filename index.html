
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Crypto Portfolio Tracker</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            background-color: #f4f4f4;
        }
        h1 {
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 40px;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 12px;
            text-align: center;
        }
        th {
            background-color: #eee;
        }
        input[type='number'] {
            width: 100px;
        }
        .chart-container {
            width: 45%;
            display: inline-block;
            vertical-align: top;
        }
    </style>
</head>
<body>
    <h1>Crypto Portfolio Tracker</h1>
    <table id="portfolioTable">
        <thead>
            <tr>
                <th>Asset</th>
                <th>Allocation (%)</th>
                <th>Investment ($)</th>
                <th>Live Price ($)</th>
                <th>Units Held</th>
                <th>Current Value ($)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Bitcoin (BTC)</td>
                <td>40</td>
                <td>4000</td>
                <td><input type="number" value="0" onchange="updatePortfolio()"></td>
                <td class="units">0</td>
                <td class="value">0</td>
            </tr>
            <tr>
                <td>Ethereum (ETH)</td>
                <td>30</td>
                <td>3000</td>
                <td><input type="number" value="0" onchange="updatePortfolio()"></td>
                <td class="units">0</td>
                <td class="value">0</td>
            </tr>
            <tr>
                <td>Cardano (ADA)</td>
                <td>10</td>
                <td>1000</td>
                <td><input type="number" value="0" onchange="updatePortfolio()"></td>
                <td class="units">0</td>
                <td class="value">0</td>
            </tr>
            <tr>
                <td>Solana (SOL)</td>
                <td>10</td>
                <td>1000</td>
                <td><input type="number" value="0" onchange="updatePortfolio()"></td>
                <td class="units">0</td>
                <td class="value">0</td>
            </tr>
            <tr>
                <td>Stablecoins (USDC/USDT)</td>
                <td>10</td>
                <td>1000</td>
                <td><input type="number" value="1" onchange="updatePortfolio()"></td>
                <td class="units">1000</td>
                <td class="value">1000</td>
            </tr>
        </tbody>
    </table>

    <div class="chart-container">
        <canvas id="allocationChart"></canvas>
    </div>
    <div class="chart-container">
        <canvas id="performanceChart"></canvas>
    </div>

    <script>
        function updatePortfolio() {
            const table = document.getElementById('portfolioTable');
            const rows = table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');
            let currentValues = [];
            for (let row of rows) {
                const investment = parseFloat(row.cells[2].textContent);
                const priceInput = row.cells[3].getElementsByTagName('input')[0];
                const price = parseFloat(priceInput.value);
                const unitsCell = row.cells[4];
                const valueCell = row.cells[5];
                let units = 0;
                let value = 0;
                if (price > 0) {
                    units = investment / price;
                    value = units * price;
                }
                unitsCell.textContent = units.toFixed(4);
                valueCell.textContent = value.toFixed(2);
                currentValues.push(value);
            }
            updatePerformanceChart(currentValues);
        }

        const allocationChart = new Chart(document.getElementById('allocationChart'), {
            type: 'pie',
            data: {
                labels: ['BTC', 'ETH', 'ADA', 'SOL', 'Stablecoins'],
                datasets: [{
                    data: [40, 30, 10, 10, 10],
                    backgroundColor: ['#f7931a', '#3c3c3d', '#0033ad', '#00ffa3', '#999999']
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: 'Portfolio Allocation'
                    }
                }
            }
        });

        const performanceChart = new Chart(document.getElementById('performanceChart'), {
            type: 'bar',
            data: {
                labels: ['BTC', 'ETH', 'ADA', 'SOL', 'Stablecoins'],
                datasets: [{
                    label: 'Current Value ($)',
                    data: [0, 0, 0, 0, 1000],
                    backgroundColor: ['#f7931a', '#3c3c3d', '#0033ad', '#00ffa3', '#999999']
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: 'Portfolio Performance'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        function updatePerformanceChart(values) {
            performanceChart.data.datasets[0].data = values;
            performanceChart.update();
        }

        updatePortfolio();
    </script>
</body>
</html>
